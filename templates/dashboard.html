
{% extends "layout.html" %}
{% block title %}Dashboard | BeaconSEL{% endblock %}
{% block content %}

<div class="row justify-content-center">
  <div class="col-lg-10">
    <div class="text-center mb-4">
      <h1 class="display-6 fw-bold text-primary">📚 Saved SEL Lessons</h1>
      <p class="text-muted">Review and manage your generated lesson plans</p>
    </div>
    
    {% if lessons %}
      <div class="row g-4">
        {% for lesson in lessons %}
          <div class="col-md-6">
            <div class="card h-100 shadow-sm hover-card">
              <div class="card-body">
                <h5 class="card-title text-primary">{{ lesson.grade }} – {{ lesson.subject }}</h5>
                <h6 class="card-subtitle mb-2 text-muted">{{ lesson.sel_focus }} | {{ lesson.topic }}</h6>
                <p class="card-text">{{ lesson.lesson_text[:200] }}...</p>
                <p class="text-muted mb-3"><small>{{ lesson.created_at.strftime('%Y-%m-%d %H:%M') }}</small></p>
                <a href="/lesson/{{ lesson.id }}" class="btn btn-warning btn-sm">📖 View Full Lesson</a>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <div class="text-center py-5">
        <div class="text-muted mb-3">
          <i class="fs-1">📝</i>
        </div>
        <h4 class="text-muted">No saved lessons yet</h4>
        <p class="text-muted">Generate your first lesson to see it appear here!</p>
        <a href="/" class="btn btn-warning">Create First Lesson</a>
      </div>
    {% endif %}

    <div class="text-center mt-4">
      <a href="/" class="btn btn-outline-secondary">← Back to Generator</a>
    </div>
  </div>
</div>

{% endblock %}
